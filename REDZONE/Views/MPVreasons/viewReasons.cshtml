@model IEnumerable<REDZONE.Models.MPReason>
           @{
               bool canViewComments = (Session["viewComments"] == null || (string)Session["viewComments"] != "Y") ? false : true;
           }
@if (Model.Count() == 0)
{
    <div class="row" style="margin:0 auto; color:red; font-size:20px; text-align:center; padding: 20px">
        Selected Metric Value has no <i>Reasons</i> assigned
    </div>
}
@foreach (var item in Model)
{
    <div class="row bordered" style="margin:0 auto; margin-bottom:7px; border-radius:5px; border-width:2px; position:relative; background-color:#f3f3f3">
        <div class="row bg-primary" style="text-align:left; margin:0; border-bottom: 1px solid darkgray; padding-top:4px;">
            <span style="font-weight:bold; margin-left:10px; font-size:16px;">@Html.DisplayFor(modelItem => item.reason_text)</span>
        </div>

        <div class="row" style="text-align:left; border-bottom:1px solid lightgray; margin:0">
            @if (canViewComments)
            {
                <span style="margin-left:10px; font-weight:bold">Comments: </span> 
                <span style="margin-left:10px">@Html.DisplayFor(modelItem => item.mpvr_Comment)</span>
            }
        </div>

        <div class="row " style="background-color:#e9f7f5; margin:0">
            <div class="col-xs-6 " style="text-align:left">
                <span style="font-weight:bold">Assigned By:</span>
                <span style="margin-left:10px">@Html.DisplayFor(modelItem => item.reason_created_by_uid)</span>
            </div>
            <div class="col-xs-6 " style="text-align:left">
                <span style="font-weight:bold">Assigned On:</span>
                <span style="">@Html.DisplayFor(modelItem => item.reason_created_on_dtm)</span>
            </div>
        </div>

        @*<div class="row">
            <div class="col-xs-4 col-xs-offset-2" style="text-align:right">
                <span style="font-weight:bold">Assigned By:</span>
            </div>
            <div class="col-xs-6" style="text-align:left">
                @Html.DisplayFor(modelItem => item.reason_created_by_uid)
            </div>
        </div>
        <div class="row">
            <div class="col-xs-4 col-xs-offset-2" style="text-align:right">
                <span style="font-weight:bold">Assigned On:</span>
            </div>
            <div class="col-xs-6" style="text-align:left">
                @Html.DisplayFor(modelItem => item.reason_created_on_dtm)
            </div>
        </div>*@
    </div>
}

@Session["popupMessage"]
<br />
