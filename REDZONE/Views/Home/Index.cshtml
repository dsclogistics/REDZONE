@model REDZONE.Models.ExecutiveSummaryViewModel

@{
    ViewBag.Title = "Executive Monthly Summary";
}
<link href="~/Content/RedZoneApp.css" rel="stylesheet" />

<div class="row" style="font-family:Arial; margin-top: 5px">
    <div class="col-md-10 " style="margin-left:15px; padding:0;">
        <div class="panel panel-default" style="margin-bottom:0px; ">
            <div class="panel-heading" style="text-align:center; padding: 0px 15px; ">
                <div class="row">
                    <div class="row ">
                        <div class="col-sm-1"></div>
                        <div class="col-sm-10">
                            <span style="font-size:x-large; font-weight:bold; color:darkblue">Executive Monthly Summary</span>
                        </div>
                        <div class="col-sm-1" >
                            <input type="image" src="~/Images/dashboard.png" width="50" height="25" style="float:right">                            
                            @*<img src="~/Images/dashboard.png" height="20" width="50" />*@
                            @*<span class="glyphicon glyphicon-dashboard glyphicon-align-right" style="float:right"> Home</span>*@
                        </div>                        
                    </div>
                    <div class="row" style="margin-bottom:10px">
                        <div class="input-group col-sm-10 col-sm-offset-1" style="padding:0px; ">
                            <span class="input-group-btn">
                                <button id="btn-lastmonth" type="button" class="btn btn-primary" style="float:right; width:60px" onclick="location.href='@Model.urlPrevMonth'" title="Navigate to Previous Month" @Model.statusPrevMonth>
                                    <span class="glyphicon glyphicon-chevron-left"></span>
                                </button>
                            </span>
                            <input type="text" class="form-control" value="@Model.month @Model.year" readonly="readonly" style="min-width:100%; text-align:center; font-weight:bold; font-size:x-large; padding:0px">
                            <span class="input-group-btn">
                                <button id="btn-nextmonth" type="button" class="btn btn-primary" style="float:right; width:60px" onclick="location.href='@Model.urlNextMonth'" title="Navigate to Next Month" @Model.statusNextMonth>
                                    <span class="glyphicon glyphicon-chevron-right"></span>
                                </button>
                            </span>
                        </div>
                    </div>
                </div>
            </div>
            <div class="panel-body" style="margin:2px; padding:5px">
                <div class="row" style="border:1px solid lightgray; border-radius: 5px; margin: 0; padding:0; ">
                    <!-- Table -->
                    <!-- ROWS -->
                    <div class="row headerRow row-eq-height">
                        <div class="col-sm-2 buildingCol headerCol">
                            <span style="font-weight:bold"> @Model.month @Model.year</span>
                        </div>
                        @foreach (var m in Model.allMetrics)
                        {
                            <div class="col-sm-1 buildingCol headerCol">
                                <a href="@m.url">@m.metricName</a>
                            </div>
                        }
                        @{
                            int colsLeft = 10 - Model.allMetrics.Count;
                            string colClass = "col-sm-1";
                            if (colsLeft > 0) { colClass = "col-sm-" + colsLeft.ToString(); }
                        }
                        <div class="@colClass buildingCol headerCol scoreCol">
                            Score
                        </div>
                    </div><!-- TITLES ROWS -->

                    <div class="row buildingRow" style="background-color: #bbedff">
                        <div class="col-sm-2 buildingCol" style="text-align:center; ">
                            @Model.goal.BuildingName
                        </div>
                      @foreach (REDZONE.Models.MeasuredCellEntity bldngMV in Model.goal.entityMetrics)
                      {
                        <div class="col-sm-1 buildingCol" style="background-color:@bldngMV.metricColor">
                                @bldngMV.metricValue
                        </div>
                      }
                        <div class="@colClass buildingCol scoreCol" style="background-color:@Model.goal.scoreColor">
                            @if (String.IsNullOrEmpty(@Model.goal.score))
                            { <br /> }
                            else
                            { @Model.goal.score }
                        </div>
                    </div><!-- GOAL ROWS -->

                 @foreach (REDZONE.Models.BuildingMetricEntity dscBldng in Model.buildings)
                 {
                    <div class="row buildingRow">
                        <div class="col-sm-2 buildingCol" style="text-align:center">
                            <a href="@dscBldng.url">@dscBldng.BuildingName</a>
                        </div>
                        @foreach (REDZONE.Models.MeasuredCellEntity bldngMV in dscBldng.entityMetrics)
                        {
                            <div class="col-sm-1 buildingCol" style="background-color:@bldngMV.metricColor">
                                @if (String.IsNullOrEmpty(@bldngMV.metricValue))
                                { <br /> }
                                else
                                { @bldngMV.metricValue }
                            </div>
                        }
                        <div class="@colClass buildingCol scoreCol" style="background-color:@dscBldng.scoreColor">
                            @if (String.IsNullOrEmpty(@dscBldng.score))
                            { <br /> }
                            else
                            { @dscBldng.score }
                        </div>
                    </div><!-- building ROWS -->
                 }
                </div> <!-- End of DIV Table Table -->
            </div>
        </div>
    </div>
</div>

<script>
    $(document).ready(function () {
        $(".menuItem").removeClass("menuSelected");
        //$(".menuItem").addClass("menuUnselected");
        $("#mDashboard").addClass("menuSelected");
    });
</script>